from bs4 import BeautifulSoup
from playwright.sync_api import sync_playwright
from urllib.request import urlopen
import re

# if it's server side rendered you don't need playwright to scrape you can directly use urllib
def plain_html_scrape():
    link = ""
    f = urlopen(link)
    content = f.read()
    return content

# if client side rendered, requires playwright to execute javascript to get content of the page
def js_scrape():
    with sync_playwright() as pw:
        # create browser instance
        browser = pw.chromium.launch(
            # Headless mode so it doesn't open a GUI
            headless=True,
        )
        # create context
        context = browser.new_context(viewport={"width": 1920, "height": 1080})
        page = context.new_page()

        # go to url
        page.goto("")
        # get HTML
        return page.content()

def chunk_text(text):
    # divide text into chunk sizes
    chunk_size = 256
    all_tokens = text.split()
    i = 0
    all_chunks = []

    while i < len(all_tokens):
        each_chunk = []
        if len(all_tokens) - i >= chunk_size:
            each_chunk = all_tokens[i:i+256]
        else:
            each_chunk = all_tokens[i:]
        all_chunks.append(" ".join(each_chunk))
        # add an overlap to retain semantic meaning
        i += chunk_size - 50

    return all_chunks

# takes HTML of a webpage, converts into a list of chunks that can then me upserted into vector DB
def HTMLtoText(content):
    
    url, title, notes, tags, created_at = "", "", "", [], ""
    soup = BeautifulSoup(content, 'html.parser')

    # Remove noisy tags
    for tag in soup(["script", "style", "noscript"]):
        tag.decompose()
    for tag in soup.find_all(["nav", "footer"]):
        tag.decompose()
    
    text = soup.get_text()
    # remove any long whitespaces with a singular whitespace
    text = re.sub(r"\s+", " ", text)
    text = text.strip()

    all_chunks = chunk_text(text)
    
    document = {"url" : url,
                "title" : title,
                "notes": notes,
                "tags": tags,
                "created_at": created_at,
                "chunks": all_chunks}
    
    return document

content = " <div class=\"flex justify-end md:justify-center gap-1 items-center\" data-astro-cid-sckkx6r4=\"\"> <div class=\"absolute top-4 left-4\" data-astro-cid-sckkx6r4=\"\"> <h2 class=\"text-xl text-accent-red font-bold font-poppins\" data-astro-cid-sckkx6r4=\"\"><a href=\"/\" data-astro-cid-sckkx6r4=\"\">Nandana Sheri</a></h2> </div> <nav class=\"fixed top-4 z-50\"> <div class=\"flex justify-end\"> <div id=\"menu\" class=\"hidden md:flex gap-4 text-poppins text-dark-red border px-4 py-1 rounded-2xl backdrop-blur-md bg-snowhite/30\"> <a href=\"/#about\">about</a> <a href=\"/now\">now</a> <a href=\"/#experience\">experience</a> <a href=\"/projects\">projects</a> <a href=\"/blog\">blog</a> <a href=\"/leadership\">leadership</a> </div> <button id=\"menu-toggle\" class=\"md:hidden cursor-pointer transition-transform duration-200 hover:-translate-y-1\"> <svg width=\"1em\" height=\"1em\" class=\"text-dark-red text-4xl\" data-icon=\"hamburger\">   <symbol id=\"ai:local:hamburger\" viewBox=\"0 0 24 24\"><path fill=\"#4e0110\" fill-rule=\"evenodd\" d=\"M3.464 20.536C4.93 22 7.286 22 12 22s7.071 0 8.535-1.465C22 19.072 22 16.714 22 12s0-7.071-1.465-8.536C19.072 2 16.714 2 12 2S4.929 2 3.464 3.464C2 4.93 2 7.286 2 12s0 7.071 1.464 8.535M18.75 16a.75.75 0 0 1-.75.75H6a.75.75 0 0 1 0-1.5h12a.75.75 0 0 1 .75.75M18 12.75a.75.75 0 0 0 0-1.5H6a.75.75 0 0 0 0 1.5zM18.75 8a.75.75 0 0 1-.75.75H6a.75.75 0 0 1 0-1.5h12a.75.75 0 0 1 .75.75\" clip-rule=\"evenodd\"></path></symbol><use href=\"#ai:local:hamburger\"></use>  </svg> </button> </div> <div id=\"mobile-menu\" class=\"hidden md:hidden flex flex-col gap-4 text-poppins text-dark-red border px-4 py-1 rounded-2xl backdrop-blur-md bg-snowhite/30\"> <a href=\"/#about\">about</a> <a href=\"/now\">now</a> <a href=\"/#experience\">experience</a> <a href=\"/projects\">projects</a> <a href=\"/blog\">blog</a> <a href=\"/leadership\">leadership</a> </div> </nav> <script type=\"module\">document.addEventListener(\"DOMContentLoaded\",()=>{const e=document.getElementById(\"menu-toggle\"),t=document.getElementById(\"mobile-menu\");e&&t&&e.addEventListener(\"click\",()=>{t.classList.toggle(\"hidden\")})});</script> </div> <main data-astro-cid-sckkx6r4=\"\">  <div class=\"flex flex-col gap-20 mx-auto lg:max-w-4xl\"> <div class=\"flex flex-col gap-3 text-dark-red text-xl md:text-2xl text-center h-[90vh] items-center justify-center bg-cover bg-center\" style=\"background-image: url(/_astro/cloud.DLUeypAd.svg);\"> <h1 class=\"text-accent-red font-poppins text-6xl md:text-8xl font-bold\">Nandana Sheri</h1> <h2>computer science student interested in software engineering and natural language processing</h2> <h2>studying at the university of michigan, ann arbor</h2> <a class=\"border-2 rounded-2xl px-4 py-1 border-accent-red text-accent-red hover:text-snowhite hover:bg-accent-red mt-8 cursor-pointer transition-transform duration-200 hover:-translate-y-1\" href=\"/NandanaSheri.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">Resume here!</a> </div> <div class=\"flex flex-col gap-4 text-dark-red text-xl\" id=\"about\"> <h2 class=\"text-accent-red font-poppins font-bold text-3xl\">&lt;about/&gt;</h2> <div class=\"flex flex-col gap-6 mt-10\"> <p>I'm Nandana (nun-the-nah) and I am an incoming MS student to the <a class=\"link-highlight\" href=\"https://rackham.umich.edu/\" target=\"_blank\">University of Michigan, Ann Arbor.</a></p> <p>I recently graduated from the University of Illinois Chicago with a BS in Computer Science &amp; as a <a class=\"link-highlight\" href=\"https://engineering.uic.edu/undergraduate/academic-honors/#honors-graduates\" target=\"_blank\">Bell Honor Recipient.</a> I have enjoyed tinkering, building interfaces, learning more about what what it means to not just <span class=\"italic\">maintain a system</span> but to build onto it in a way that's actually beneficial to others. I'm interested in \n            Full Stack Development and exploring Natural Language Processing. I previously interned at CNA Insurance and won 1st place for the Most Creative On Device AI Deployment at <a class=\"link-highlight\" href=\"https://devpost.com/software/survivex\" target=\"_blank\">Stanford's TreeHacks. </a></p> </div> <div class=\"flex flex-col md:flex-row gap-8\"> <div class=\"flex flex-col gap-2\"> <img src=\"/_astro/nan.BHf2zndA_1B9Unb.webp\" alt=\"profile image\" width=\"1000\" height=\"1010\" loading=\"lazy\" decoding=\"async\" class=\"w-full\"> <p class=\"text-accent-red text-sm text-center italic\">pictured at national cathedral, dc</p> </div> <div class=\"flex flex-col gap-6\"> <p>I'm a strong believer in helping out the individuals who come after me and was able to do so through serving as President for <a class=\"link-highlight\" href=\"https://www.linkedin.com/company/women-in-computer-science-uic\" target=\"_blank\">Women in Computer Science.</a> I also helped launch <a class=\"link-highlight\" href=\"https://www.sparkhacks.org/\" target=\"_blank\">SparkHacks;</a> UIC's own hackathon and served as Co-Director.</p> <p>I love <a class=\"link-highlight\" href=\"https://letterboxd.com/nandanasheri/\" target=\"_blank\">watching movies,</a> exploring Chicago, <a class=\"link-highlight\" href=\"https://beliapp.co/app/naanlovesbiriyani\" target=\"_blank\">rating experiences</a> and occassionally reading!</p> </div> </div> </div> <div class=\"flex flex-col gap-4 text-dark-red text-xl w-full\" id=\"experience\"> <h2 class=\"text-accent-red font-poppins font-bold text-3xl\">&lt;experience/&gt;</h2> <div class=\"relative border-l-6 rounded border-accent-red flex flex-col gap-10 mt-10\"> <div class=\"flex flex-col pl-10\"> <div class=\"absolute -left-[0.56rem] w-3 h-3 rounded-full bg-accent-red mt-12\"></div> <h3 class=\"text-3xl font-bold font-poppins\">LLM Researcher</h3> <p class=\"text-xl text-gray-500\">UIC CS Department - June 2025 to Present</p> <p class=\"mt-2 text-base\">Building a reproducible LLM evaluation pipeline using LangChain and Ollama, aiming to benchmark multimodal LLM accuracy in generating radiology reports across 50 X-ray scans, improving diagnostic reliability.</p> </div><div class=\"flex flex-col pl-10\"> <div class=\"absolute -left-[0.56rem] w-3 h-3 rounded-full bg-accent-red mt-12\"></div> <h3 class=\"text-3xl font-bold font-poppins\">Head Teaching Assistant</h3> <p class=\"text-xl text-gray-500\">UIC CS Department - Jan 2022 to May 2025</p> <p class=\"mt-2 text-base\">Guided over 300 students across 4 courses (Advanced Data Structures, Program Design I &amp; II, and Discrete Mathematics) by debugging in C++ &amp; Python through weekly office hours.</p> </div><div class=\"flex flex-col pl-10\"> <div class=\"absolute -left-[0.56rem] w-3 h-3 rounded-full bg-accent-red mt-12\"></div> <h3 class=\"text-3xl font-bold font-poppins\">CS Enrollment Lead</h3> <p class=\"text-xl text-gray-500\">Breakthrough Tech - November 2024 to May 2025</p> <p class=\"mt-2 text-base\">Promoted and recruited a cohort of 25 students for the CS111 Summer Program under Professor Shanon Reckinger through regular mass emails and development of the CS111 Summer Website with Astro and Tailwind (111-summer.cs.uic.edu).</p> </div><div class=\"flex flex-col pl-10\"> <div class=\"absolute -left-[0.56rem] w-3 h-3 rounded-full bg-accent-red mt-12\"></div> <h3 class=\"text-3xl font-bold font-poppins\">Curriculum Design Assistant</h3> <p class=\"text-xl text-gray-500\">UIC Linguistics Department - December 2024 to February 2025</p> <p class=\"mt-2 text-base\">Developed an assignment on Google Collab to assist over 30 students in analyzing and visualizing speech data from Praat using Pandas, Seaborn, and Matplotlib, for LING220 under Professor Carrie Pichan enhancing their ability to explore phonetic and phonological patterns.</p> </div><div class=\"flex flex-col pl-10\"> <div class=\"absolute -left-[0.56rem] w-3 h-3 rounded-full bg-accent-red mt-12\"></div> <h3 class=\"text-3xl font-bold font-poppins\">SWE Intern</h3> <p class=\"text-xl text-gray-500\">LitPath - June 2024 to Aug 2024</p> <p class=\"mt-2 text-base\">Designed and developed an in-house Therapist Admin Portal with React.js and MySQL for a nonprofit health provider (litpath.org), empowering staff to efficiently create, edit and search across 40,000+ therapist profiles.</p> </div><div class=\"flex flex-col pl-10\"> <div class=\"absolute -left-[0.56rem] w-3 h-3 rounded-full bg-accent-red mt-12\"></div> <h3 class=\"text-3xl font-bold font-poppins\">Research Assistant</h3> <p class=\"text-xl text-gray-500\">Northwestern University - April 2024 to Aug 2024</p> <p class=\"mt-2 text-base\">Implemented machine learning models using Hugging Face's Wav2Vec2Phoneme Transformer for speech disorder classification in children aged 3-5, achieving a 20% increase in diagnostic accuracy.</p> </div><div class=\"flex flex-col pl-10\"> <div class=\"absolute -left-[0.56rem] w-3 h-3 rounded-full bg-accent-red mt-12\"></div> <h3 class=\"text-3xl font-bold font-poppins\">SWE Intern</h3> <p class=\"text-xl text-gray-500\">CNA Insurance - June 2023 to Aug 2023</p> <p class=\"mt-2 text-base\">Enhanced user experience for 43,000+ insurance agencies by migrating legacy jQuery-based components to React.js for the CNA Surety Portal</p> </div> </div> </div> </div>  </main> <div class=\"mx-10 md:mx-48 mt-10\"> <hr class=\"border-t border-dark-red\"> <div class=\"flex flex-row text-dark-red mt-2 justify-between px-4 text-g items-center\"> <h3>built by Nandana Sheri</h3> <div class=\"flex flex-row gap-3\"> <a href=\"mailto:nandanasheri@gmail.com\" target=\"_blank\"> <svg width=\"1em\" height=\"1em\" data-icon=\"email\">   <symbol id=\"ai:local:email\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M510.678 112.275a70.8 70.8 0 0 0-14.662-31.054c-1.518-1.915-3.104-3.63-4.823-5.345-12.755-12.818-30.657-20.814-50.214-20.814H71.021c-19.557 0-37.395 7.996-50.21 20.814-1.715 1.715-3.301 3.43-4.823 5.345-7.203 8.788-12.358 19.428-14.602 31.054A68.7 68.7 0 0 0 0 126.087V385.92c0 9.968 2.114 19.55 5.884 28.203 3.497 8.26 8.653 15.734 14.926 22.001a77 77 0 0 0 4.892 4.494 70.96 70.96 0 0 0 45.319 16.32h369.958c17.18 0 33.108-6.145 45.323-16.384 1.718-1.386 3.305-2.844 4.891-4.43 6.27-6.267 11.425-13.741 14.994-22.001v-.064c3.769-8.653 5.812-18.171 5.812-28.138V126.087a73 73 0 0 0-1.321-13.812M46.509 101.571c6.345-6.338 14.866-10.175 24.512-10.175h369.958c9.646 0 18.242 3.837 24.512 10.175a34 34 0 0 1 3.112 3.637L274.696 274.203c-5.348 4.687-11.954 7.002-18.696 7.002-6.674 0-13.276-2.315-18.695-7.002L43.472 105.136c.858-1.25 1.915-2.436 3.037-3.565M36.334 385.92V142.735L176.658 265.15 36.405 387.435c-.071-.464-.071-.986-.071-1.515m404.645 34.677H71.021c-6.281 0-12.158-1.651-17.174-4.552l147.978-128.959 13.815 12.018c11.561 10.046 26.028 15.134 40.36 15.134a61.64 61.64 0 0 0 40.432-15.134l13.808-12.018 147.92 128.959c-5.023 2.901-10.9 4.552-17.181 4.552m34.687-34.677c0 .529 0 1.051-.068 1.515L335.346 265.221 475.666 142.8z\"></path></symbol><use href=\"#ai:local:email\"></use>  </svg> </a> <a href=\"https://github.com/nandanasheri\" target=\"_blank\"> <svg width=\"1em\" height=\"1em\" data-icon=\"github\">   <symbol id=\"ai:local:github\" viewBox=\"0 0 24 24\"><path fill=\"#0F0F0F\" d=\"M4.074 2.994c.059-1.03.305-1.478 1.01-1.838.76-.387 1.957-.207 3.366.507.607.307.669.313 1.733.177 1.413-.181 3.233-.18 4.538.002.987.138 1.052.13 1.66-.177 2-1.013 3.58-.947 4.151.174.286.56.339 2.01.117 3.208-.122.664-.11.747.186 1.182 2.08 3.065.581 8.033-2.982 9.887a6 6 0 0 1-.69.3c-.575.22-.75.287-.538 1.298.102.486.224 1.695.272 2.686.087 1.792.086 1.805-.228 2.17-.428.498-1.045.506-1.462.02-.273-.317-.3-.466-.3-1.689 0-1.806-.197-3.006-.665-4.035-.557-1.224-.144-1.681 1.128-1.955 1.768-.38 3.15-1.471 3.92-3.096.731-1.545.841-3.68-.482-4.978-.376-.447-.402-.853-.134-2.074.1-.456.185-1.045.188-1.309.003-.416-.035-.479-.29-.479-.162 0-.78.236-1.373.523l-.947.459a.5.5 0 0 1-.277.047 30.3 30.3 0 0 0-7.114 0 .5.5 0 0 1-.279-.046l-.946-.46c-.593-.287-1.211-.523-1.373-.523-.374 0-.38.276-.039 1.916.209 1.001.349 1.224-.253 2.025-.902 1.2-1.127 2.69-.643 4.256.609 1.973 2.101 3.305 4.2 3.75 1.265.268 1.595.618 1.112 2.069-.38 1.14-.62 1.435-1.173 1.435-.743 0-1.209-.644-.953-1.318.113-.297.08-.329-.617-.582-2.126-.776-3.752-2.513-4.495-4.804-.575-1.77-.322-4.075.6-5.467.314-.475.318-.515.172-1.423a10.3 10.3 0 0 1-.1-1.838m-.742 12.951a1 1 0 0 0-1.664 1.11c.226.34.497.618.726.848l.124.123c.193.19.363.36.533.56.378.443.754 1.04.968 2.11.096.477.438.734.628.846.206.121.431.193.616.24.379.095.839.145 1.275.174.479.032.998.042 1.462.045a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1h-.304c-.587.002-1.352.004-2.026-.04a7 7 0 0 1-.788-.09c-.301-1.184-.788-1.972-1.308-2.582-.23-.27-.468-.506-.662-.698l-.103-.103c-.224-.223-.37-.382-.477-.543\"></path></symbol><use href=\"#ai:local:github\"></use>  </svg> </a> <a href=\"https://www.linkedin.com/in/nsheri/\" target=\"_blank\"> <svg width=\"1em\" height=\"1em\" data-icon=\"linkedin\">   <symbol id=\"ai:local:linkedin\" viewBox=\"0 0 50 50\"><path fill=\"currentColor\" d=\"M41 4H9C6.24 4 4 6.24 4 9v32c0 2.76 2.24 5 5 5h32c2.76 0 5-2.24 5-5V9c0-2.76-2.24-5-5-5M17 20v19h-6V20zm-6-5.53c0-1.4 1.2-2.47 3-2.47s2.93 1.07 3 2.47c0 1.4-1.12 2.53-3 2.53-1.8 0-3-1.13-3-2.53M39 39h-6V29c0-2-1-4-3.5-4.04h-.08C27 24.96 26 27.02 26 29v10h-6V20h6v2.56S27.93 20 31.81 20c3.97 0 7.19 2.73 7.19 8.26z\"></path></symbol><use href=\"#ai:local:linkedin\"></use>  </svg> </a> </div> </div> </div> "
all = chunk_text(content)